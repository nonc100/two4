<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>COSMOS</title>

  <!-- 미래지향 타이틀 폰트 -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0e1220;
      --stroke:rgba(255,255,255,.10);
      --primary:#1f5cff;

      /* 상단/폭/여백 */
      --top-space: 110px;         /* 타이틀 위 여백 */
      --container-max: 1440px;    /* 중앙 고정 폭 */
      --side-pad: 10px;           /* 좌우 패딩 */

      /* 로고/배경 */
      --logo-h: clamp(24px, 3.0vw, 44px);
      --hero-bg: url("../../media/your-galaxy.jpg"); /* 🔁 배경 이미지 경로 교체 */

      /* Glass card (회색 그라데이션 + 유리) */
      --glass-bg: rgba(18,24,46,.72);
      --border-w: 1px;
      --gb1: rgba(255,255,255,.38);
      --gb2: rgba(255,255,255,.20);
      --gb3: rgba(255,255,255,.08);
    }

    html,body{margin:0;background:var(--bg);color:#e8ebf3;}
    /* 은하수 배경 + 은은한 보조 그라데이션 */
    body::before{
      content:""; position:fixed; inset:0; z-index:-1;
      background:
        radial-gradient(800px 460px at 10% -10%, rgba(31,92,255,.22), transparent 60%),
        radial-gradient(900px 520px at 85% 0%, rgba(120,80,255,.18), transparent 60%),
        var(--hero-bg) center/cover no-repeat;
      opacity:.25; filter:saturate(1.05) contrast(1.04);
    }

    .container{ max-width:var(--container-max); margin:0 auto; padding:0 var(--side-pad); }

    /* ===== 헤더 ===== */
    .site-header{ position:relative; padding: var(--top-space) 0 30px; } /* 상단 여백 크게 */
    .brand{ display:flex; align-items:center; gap:10px; position:relative; z-index:1; }
    .brand img{
      height:var(--logo-h); width:auto; object-fit:contain;
      filter: drop-shadow(0 2px 6px rgba(0,0,0,.35));
      max-width:320px;
    }
    .brand h1{
      margin:0; font-family:"Orbitron",system-ui; font-weight:700; letter-spacing:.04em;
      font-size:calc(var(--logo-h) * .9); line-height:1;
    }
    .header-bg{ position:absolute; inset:auto 0 0 0; height:60px;
      background:linear-gradient(90deg, rgba(31,92,255,.20), rgba(120,80,255,.14), rgba(31,92,255,.20));
      filter:blur(22px); opacity:.35; }

    /* ===== 대시보드: 좌5 / 우2 (우측: Top7 ▶ Volume) =====
       3열 그리드: [좌 2열] + [우 1열]
       행 배치(정중앙 컨테이너에 고정)
       1행: l1 l2 r1
       2행: l3 l4 r1   ← r1은 2행 높이(등락률 Top7)
       3행: l5 l5 r2   ← l5는 가로로 넓게, r2는 하단(거래량 순위)
    */
    .dash-areas{
      display:grid;
      grid-template-columns: 1.6fr 1.6fr 1fr;  /* 좌/좌/우 */
      grid-template-areas:
        "l1  l2  r1"
        "l3  l4  r1"
        "l5  l5  r2";
      gap:16px;
      margin-top: 36px;
    }
    @media (max-width:1100px){
      /* 태블릿 이하: 2열 */
      .dash-areas{
        grid-template-columns: 1fr 1fr;
        grid-template-areas:
          "l1  l2"
          "l3  l4"
          "l5  l5"
          "r1  r1"
          "r2  r2";
      }
    }
    @media (max-width:640px){
      /* 모바일: 1열 */
      .dash-areas{
        grid-template-columns: 1fr;
        grid-template-areas:
          "l1" "l2" "l3" "l4" "l5" "r1" "r2";
      }
    }

    /* Glass + 회색 그라데이션 보더 */
    .card{
      position:relative; border-radius:14px; padding:14px; background: var(--glass-bg);
      box-shadow: 0 8px 22px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.02);
      overflow:hidden;
    }
    .card::before{
      content:""; position:absolute; inset:0; padding: var(--border-w); border-radius: inherit;
      background: linear-gradient(135deg, var(--gb1), var(--gb2) 55%, var(--gb3));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      pointer-events:none; opacity:.85;
    }
    .card::after{
      content:""; position:absolute; inset:1px; border-radius: calc(14px - 1px);
      backdrop-filter: blur(12px) saturate(120%); -webkit-backdrop-filter: blur(12px) saturate(120%);
      background:
        radial-gradient(120% 100% at 50% 0, rgba(255,255,255,.14), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02) 40%, transparent);
      pointer-events:none;
    }
    .card > *{ position:relative; z-index:1; }
    .card h3{ margin:0 0 8px; font-family:"Orbitron",system-ui; font-size:16px; letter-spacing:.02em; }
    .kpi{ font-size:22px; font-weight:700; }
    .sub{ opacity:.7; font-size:12px; }
    .list{ display:flex; flex-direction:column; gap:8px; margin-top:8px; }
    .list .row{ display:flex; justify-content:space-between; gap:8px; font-size:14px; }
    .up{ color:#28e07a } .down{ color:#ff5b6e }

    /* 각 카드 위치(왼쪽 5 / 우측 2 고정) */
    #card-oi        { grid-area: l1; }  /* 좌1 */
    #card-fng       { grid-area: l2; }  /* 좌2 */
    #card-dominance { grid-area: l3; }  /* 좌3 */
    #card-btc-mcap  { grid-area: l4; }  /* 좌4 */
    #card-total-mcap{ grid-area: l5; }  /* 좌5 (가로 넓게) */
    #card-gainers   { grid-area: r1; }  /* 우측 상단(2행 높이) : 등락률 Top7 */
    #card-volume    { grid-area: r2; }  /* 우측 하단 : 거래량 순위 */

    /* ===== 툴바 ===== */
    .toolbar{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin:18px 0 6px; }
    .toolbar input{
      padding:8px 10px; border-radius:8px; border:1px solid var(--stroke);
      background:#11172e; color:#e8ebf3; min-width:220px;
    }

    /* ===== 테이블 ===== */
    .table-wrap{ overflow-x:auto; -webkit-overflow-scrolling:touch; }
    .cosmos-table{ min-width:920px; width:100%; border-collapse:collapse; }
    .cosmos-table th,.cosmos-table td{ padding:10px 12px; white-space:nowrap; border-bottom:1px solid rgba(255,255,255,.06); }
    .cosmos-table th.text-right,.cosmos-table td.text-right{ text-align:right; }

    /* 헤더 정렬(▲/▼) */
    th[data-sort]{ cursor:pointer; user-select:none; }
    th[data-sort] .sort-ic{ display:inline-block; width:10px; margin-left:6px; opacity:.85; }
    th[data-sort].asc  .sort-ic::before{ content:"▲"; font-size:10px; }
    th[data-sort].desc .sort-ic::before{ content:"▼"; font-size:10px; }

    /* 코인 링크 */
    .coin-link{ color:#fff; text-decoration:none; display:flex; align-items:center; gap:6px; white-space:nowrap; }
    .coin-link:hover{ opacity:.9; }
    .coin-name{ text-overflow:ellipsis; overflow:hidden; max-width:160px; }

    /* 7일 스파크라인 열 */
    .cosmos-table td:last-child svg{ display:block; margin:0 auto; }
    .cosmos-table th:last-child, .cosmos-table td:last-child{ width:90px; }

    /* 반응형: 좁으면 덜 중요한 칼럼 숨김 */
    @media (max-width:1100px){ .cosmos-table th:nth-child(9), .cosmos-table td:nth-child(9){ display:none; } } /* 7d 차트 */
    @media (max-width:980px){  .cosmos-table th:nth-child(4), .cosmos-table td:nth-child(4){ display:none; } }  /* 1시간 */
    @media (max-width:840px){  .cosmos-table th:nth-child(6), .cosmos-table td:nth-child(6){ display:none; } }  /* 7일% */
    @media (max-width:720px){  .cosmos-table th:nth-child(8), .cosmos-table td:nth-child(8){ display:none; } }  /* 거래량 */
    @media (max-width:620px){  .cosmos-table th:nth-child(7), .cosmos-table td:nth-child(7){ display:none; } .cosmos-table{ min-width:0; } } /* 시총 */

    /* ===== 페이지네이션/푸터 ===== */
    .pager{ display:flex; gap:6px; justify-content:center; margin:12px 0; }
    .pager button{
      padding:6px 10px; border:1px solid var(--stroke);
      background:#121a36; color:#fff; border-radius:8px; cursor:pointer;
    }
    .pager button.active{ background:var(--primary); }
    footer{ margin:16px 0 18px; opacity:.68; font-size:12px; text-align:center; }
  </style>
</head>
<body>
  <div class="container">
    <!-- 헤더 -->
    <header class="site-header">
      <div class="brand">
        <img src="../../media/logo.png" alt="TWO.4">
        <h1>COSMOS</h1>
      </div>
      <div class="header-bg"></div>
    </header>

    <!-- 상단 대시보드: 좌5 / 우2 (우측: Top7 ▶ Volume) -->
    <section class="dash-areas">
      <div id="card-oi" class="card">
        <h3>BTC 미결제약정(OI) · 24H</h3>
        <div id="k-oi" class="kpi">연동 예정</div>
        <div class="sub">※ OI 제공 API 연결 후 표시</div>
      </div>

      <div id="card-fng" class="card">
        <h3>공포/탐욕 지수</h3>
        <div id="k-fng" class="kpi">연동 예정</div>
        <div class="sub">Alternative.me API</div>
      </div>

      <div id="card-dominance" class="card">
        <h3>도미넌스</h3>
        <div id="k-dominance" class="kpi">-</div>
        <div class="sub">BTC Dominance</div>
      </div>

      <div id="card-btc-mcap" class="card">
        <h3>BTC Market Cap</h3>
        <div id="k-btc-mcap" class="kpi">-</div>
        <div class="sub">시총(USD)</div>
      </div>

      <div id="card-total-mcap" class="card">
        <h3>Global Market Cap</h3>
        <div id="k-total-mcap" class="kpi">-</div>
        <div class="sub">전체 암호화폐 시가총액(USD)</div>
      </div>

      <!-- 우측 고정: 위(등락률 Top7), 아래(거래량 순위) -->
      <div id="card-gainers" class="card">
        <h3>등락률 상위 7위 [24h]</h3>
        <div id="k-gainers" class="list"></div>
      </div>

      <div id="card-volume" class="card">
        <h3>코인 거래량 순위</h3>
        <div id="k-volume" class="list"></div>
      </div>
    </section>

    <!-- 툴바: 검색(이름/심볼). 정렬은 헤더 클릭 -->
    <div class="toolbar">
      <input id="cosmos-q" placeholder="코인 검색 (이름/심볼)">
    </div>

    <!-- 표 -->
    <div class="table-wrap">
      <table class="cosmos-table">
        <thead>
          <tr>
            <th>순위</th>
            <th>코인</th>
            <th class="text-right" data-sort="price">시세 <span class="sort-ic"></span></th>
            <th class="text-right" data-sort="change1h">1시간 <span class="sort-ic"></span></th>
            <th class="text-right" data-sort="change24h">24시간 <span class="sort-ic"></span></th>
            <th class="text-right" data-sort="change7d">7일 <span class="sort-ic"></span></th>
            <th class="text-right" data-sort="market_cap">시가총액 <span class="sort-ic"></span></th>
            <th class="text-right" data-sort="volume">거래량 <span class="sort-ic"></span></th>
            <th class="text-right">7일 차트</th>
          </tr>
        </thead>
        <tbody id="cosmos-tbody"></tbody>
      </table>
    </div>

    <!-- 50개 단위 페이저 -->
    <div id="cosmos-pager" class="pager"></div>

    <!-- 하단 배너(필수) -->
    <footer>
      🚀 Cosmos 암호화폐 대시보드 – CoinGecko API로 실시간 데이터 제공 | 안전한 백엔드 서버 통신 | 30초 자동 업데이트
    </footer>
  </div>

  <!-- 스크립트 -->
  <script src="./cosmos.js"></script>
</body>
</html>
