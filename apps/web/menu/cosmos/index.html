<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>TWO4 COSMOS</title>
  <style>
    :root{
      --bg:#0b1018;
      --panel:#111827;
      --text:#e8eefc; --muted:#9aa3b6;
      --up:#22c55e; --down:#ef4444;
      --glass: rgba(255,255,255,.08);
      --glass-bd: rgba(255,255,255,.14);
      --sticky-top: 88px;    /* sticky thead 위치 (모바일 겹침 방지) */
      --starVis:.7;          /* 별 밝기/밀도 컨트롤러 */
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:#0b1018;color:var(--text);font:14px/1.5 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR","Apple SD Gothic Neo","Malgun Gothic","Helvetica Neue",Arial}
    a{color:inherit;text-decoration:none}  /* 보라색/밑줄 제거 */
    .wrap{position:relative;z-index:1;max-width:1220px;margin:0 auto;padding:0 16px 80px}

    /* ⭐ 별 배경 (세 레이어 트윙클) */
    .sky{position:fixed;inset:0;pointer-events:none;z-index:0;background:#0b1018}
    .stars,.stars2,.stars3{position:absolute;inset:0;background-repeat:repeat;background-size:1600px 1600px;filter:blur(.3px)}
    .stars{opacity:calc(.55*var(--starVis));animation:tw1 18s linear infinite;
      background-image:
      radial-gradient(1px 1px at 120px 80px,#fff8 50%,transparent 51%),
      radial-gradient(1px 1px at 300px 120px,#fff8 50%,transparent 51%),
      radial-gradient(1px 1px at 40px 600px,#fff8 50%,transparent 51%)}
    .stars2{opacity:calc(.35*var(--starVis));animation:tw2 26s linear infinite;
      background-image:
      radial-gradient(1px 1px at 220px 240px,#fff6 50%,transparent 51%),
      radial-gradient(1px 1px at 640px 420px,#fff6 50%,transparent 51%),
      radial-gradient(1px 1px at 1000px 300px,#fff6 50%,transparent 51%)}
    .stars3{opacity:calc(.25*var(--starVis));animation:tw3 34s linear infinite;
      background-image:
      radial-gradient(1px 1px at 70px 120px,#fff5 50%,transparent 51%),
      radial-gradient(1px 1px at 560px 720px,#fff5 50%,transparent 51%),
      radial-gradient(1px 1px at 1180px 210px,#fff5 50%,transparent 51%)}
    @keyframes tw1{from{background-position:0 0}to{background-position:-1600px -1600px}}
    @keyframes tw2{from{background-position:0 0}to{background-position:-1200px -1400px}}
    @keyframes tw3{from{background-position:0 0}to{background-position:-800px -1200px}}

    /* 브랜드: 로고만 (COSMOS 텍스트 제거 요청) */
    .brand{display:flex;align-items:center;gap:12px;margin:16px 0 6px}
    .brand img{width:168px;height:auto;object-fit:contain}
    @media (max-width:767px){.brand img{width:128px}}

    /* ⭐ 상단 중앙 아주 작은 컨트롤러 */
    .star-ctl{position:fixed;top:8px;left:50%;transform:translateX(-50%);z-index:5;
      display:flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;
      background:linear-gradient(180deg,rgba(255,255,255,.18),rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.22);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}
    .star-ctl input{width:120px;height:6px;background:transparent}
    .star-ctl input::-webkit-slider-thumb{appearance:none;width:14px;height:14px;border-radius:50%;background:#a78bfa;border:1px solid #fff9}
    .star-ctl input::-webkit-slider-runnable-track{height:6px;border-radius:999px;background:linear-gradient(90deg,#a78bfa,#22d3ee)}

    /* 허브 */
    .hub-wrap{display:grid;grid-template-columns:minmax(320px,520px) 1fr;gap:16px;align-items:center;margin:6px 0 14px}
    @media (max-width:900px){.hub-wrap{grid-template-columns:1fr}}
    .hub3d{position:relative;width:100%;max-width:520px;border-radius:50%;aspect-ratio:1/1;margin:0 auto;
      background:
        radial-gradient(120% 120% at 30% 30%, rgba(120,144,255,.28) 0%, rgba(80,42,150,.18) 40%, rgba(10,16,26,0) 62%),
        radial-gradient(60% 60% at 70% 70%, rgba(0,0,0,.35), rgba(0,0,0,0));
      box-shadow:inset 0 10px 26px rgba(180,200,255,.18), inset 0 -16px 46px rgba(0,0,0,.5), 0 18px 48px rgba(0,0,0,.35), 0 0 60px rgba(56,189,248,.18)}
    .hub3d svg{position:absolute;inset:0}
    .hub-center{position:absolute;inset:50% auto auto 50%;transform:translate(-50%,-50%);width:36%;height:36%;border-radius:50%;
      display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;
      background:radial-gradient(100% 100% at 35% 30%, rgba(34,211,238,.18), rgba(99,102,241,.12) 60%, rgba(0,0,0,0) 80%);
      border:1px solid rgba(255,255,255,.14);box-shadow:inset 0 6px 26px rgba(255,255,255,.10)}
    .hub-center .main{font-weight:900;font-size:clamp(18px,3.2vw,28px);letter-spacing:.01em;line-height:1.15;color:#fff}
    .hub-center .sub{font-size:12px;color:#a6b0c6;margin-top:4px}
    .hub-seg{cursor:pointer;transform-box:fill-box;transform-origin:center;stroke:rgba(255,255,255,.12);stroke-width:1.2;transition:transform .18s ease, filter .18s ease, stroke .18s ease}
    .hub-seg:hover{transform:scale(1.025);filter:drop-shadow(0 0 14px rgba(124,58,237,.6)) drop-shadow(0 0 28px rgba(56,189,248,.4));stroke:rgba(255,255,255,.22)}
    .hub-seg.active{transform:scale(1.035);filter:drop-shadow(0 0 18px rgba(124,58,237,.8)) drop-shadow(0 0 36px rgba(56,189,248,.55));stroke:rgba(255,255,255,.3)}
    .hub-badge{font-weight:900;font-size:clamp(14px,1.7vw,20px);letter-spacing:.02em;fill:url(#mintWhiteGrad);filter:url(#textGlow);pointer-events:none}

    .panel{min-height:240px;border-radius:16px;padding:14px;background:rgba(255,255,255,.06);border:1px solid var(--glass-bd);backdrop-filter:blur(12px);display:none}
    .panel.show{display:block}
    .panel h4{margin:2px 0 10px;font-size:14px;color:#9aa3b6;letter-spacing:.08em}
    .panel .list{display:flex;flex-direction:column;gap:6px}
    .row-min{display:grid;grid-template-columns:1.6em 1fr auto auto;gap:8px;align-items:center;font-size:13.5px}
    .row-min .rk{text-align:right;opacity:.7;font-weight:800}
    .row-min .tk{font-weight:900}
    .row-min .px{opacity:.9;text-align:right}
    .row-min .pc{font-weight:900;text-align:right}
    .row-min .pc.up{color:var(--up)} .row-min .pc.down{color:var(--down)}

    /* 컨트롤 & 테이블 */
    .controls{display:flex;gap:10px;align-items:center;margin:14px 0 10px}
    .controls .search{flex:1}
    input[type="text"],select,button{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.14);color:var(--text);border-radius:10px;padding:9px 12px;outline:none}
    .table-wrap{overflow-x:auto}
    table{width:1200px;border-collapse:separate;border-spacing:0 10px}
    thead th{position:sticky;top:var(--sticky-top);background:rgba(17,24,39,.88);backdrop-filter:blur(6px);font-size:12px;color:#9aa3b6;font-weight:800;text-align:left;padding:8px 10px}
    thead th .dir{opacity:.9;margin-left:6px}
    tbody td{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);padding:12px 10px;vertical-align:middle}
    tbody tr td:first-child{border-radius:12px 0 0 12px}
    tbody tr td:last-child{border-radius:0 12px 12px 0}
    .text-right{text-align:right}
    .coin-cell{display:flex;align-items:center;gap:10px}
    .coin-cell img{width:22px;height:22px;border-radius:50%;object-fit:contain}

    /* 데스크톱에서 가격 컬럼 더 넓게 */
    @media (min-width:768px){
      .col-price{min-width:120px}
    }

    /* 모바일: 티커(이름)만 보여주기 */
    @media (max-width:767px){
      table{width:720px} /* 수평 스크롤 대신 내용 고정 폭 */
      .mkt th:nth-child(1), .mkt td:nth-child(1), /* # */
      .mkt th:nth-child(3), .mkt td:nth-child(3), /* Price */
      .mkt th:nth-child(4), .mkt td:nth-child(4), /* 1h */
      .mkt th:nth-child(5), .mkt td:nth-child(5), /* 24h */
      .mkt th:nth-child(6), .mkt td:nth-child(6), /* 7d */
      .mkt th:nth-child(7), .mkt td:nth-child(7), /* MCap */
      .mkt th:nth-child(8), .mkt td:nth-child(8), /* Volume */
      .mkt th:nth-child(9), .mkt td:nth-child(9)  /* Spark */
      {display:none!important}
      .coin-cell img{width:18px;height:18px}
    }

    /* 페이지네이션 */
    #pager{display:flex;gap:6px;align-items:center;margin-top:12px;flex-wrap:wrap}
    #pager button{padding:6px 10px;border-radius:10px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.14);color:#dbeafe;cursor:pointer}
    #pager button.on{background:rgba(124,58,237,.25);border-color:rgba(124,58,237,.5)}
    #pager span{opacity:.7}

    footer{margin:24px auto 0;max-width:1220px;font-size:12px;color:#9aa3b6;text-align:center;opacity:.85}
  </style>
</head>
<body>
  <!-- ⭐ 별 -->
  <div class="sky"><div class="stars"></div><div class="stars2"></div><div class="stars3"></div></div>

  <!-- ⭐ 컨트롤러 -->
  <div class="star-ctl" aria-label="Star background controller">
    <input id="starRange" type="range" min="0" max="100" value="70" />
  </div>

  <div class="wrap">
    <!-- 로고만 -->
    <div class="brand">
      <img src="/media/logo.png" alt="TWO4">
    </div>

    <!-- 3D 도넛 허브 -->
    <section class="hub-wrap">
      <div class="hub3d">
        <svg id="hubSvg" viewBox="0 0 1000 1000" role="img">
          <defs>
            <linearGradient id="mintWhiteGrad" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="#eaffff"/><stop offset="100%" stop-color="#86fff7"/>
            </linearGradient>
            <filter id="textGlow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="2" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>
        </svg>
        <div class="hub-center">
          <div class="main" id="hubMain">—</div>
          <div class="sub"  id="hubSub">COSMOS</div>
        </div>
      </div>
      <aside class="panel" id="hubPanel">
        <h4 id="hubTitle">—</h4>
        <div id="hubContent"></div>
      </aside>
    </section>

    <!-- 검색 + (정렬은 헤더 클릭으로) -->
    <div class="controls">
      <input id="search" class="search" type="text" placeholder="Search coin (name/symbol)" />
    </div>

    <!-- 테이블 -->
    <div class="table-wrap">
      <table class="mkt">
        <thead>
          <tr>
            <th data-key="rank"># <span class="dir"></span></th>
            <th data-key="symbol">Name <span class="dir"></span></th>
            <th class="text-right col-price" data-key="price">Price <span class="dir"></span></th>
            <th class="text-right" data-key="change1h">1h <span class="dir"></span></th>
            <th class="text-right" data-key="change24h">24h <span class="dir"></span></th>
            <th class="text-right" data-key="change7d">7d <span class="dir"></span></th>
            <th class="text-right" data-key="market_cap">Market Cap <span class="dir"></span></th>
            <th class="text-right" data-key="volume">24h Volume <span class="dir"></span></th>
            <th class="text-right">7d Spark</th>
          </tr>
        </thead>
        <tbody id="mkt-body"></tbody>
      </table>
    </div>

    <!-- 페이지네이션 -->
    <div id="pager"></div>

    <footer>
      CoinGecko · Binance · Alternative.me · 3D Neon Hub · 30s auto-update · sticky header · mobile ticker-only
    </footer>
  </div>

  <script src="./cosmos.js"></script>
  <script>
    // ⭐ 컨트롤러 적용
    (function(){
      const r=document.getElementById('starRange');
      const apply=v=>document.documentElement.style.setProperty('--starVis',String(Math.max(0,Math.min(1,v/100))));
      r.addEventListener('input',e=>apply(e.target.value)); apply(r.value);
    })();
  </script>
</body>
</html>
