<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>TWO4 COSMOS</title>
  <style>
    :root{
      --bg:#0b1018;
      --panel:#111827;
      --text:#e8eefc;
      --muted:#9aa3b6;
      --up:#22c55e; --down:#ef4444;
      --card-border: rgba(255,255,255,.08);
      --sticky-top: 90px;     /* 데스크탑 고정 헤더 기준 */
      --starVis: .9;          /* 0~1 별 밝기 */
      --rank-w:44px;
      --name-w:280px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);
      font:14px/1.5 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR","Apple SD Gothic Neo","Malgun Gothic"}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto}

    /* ⭐ starfield – 더 밝고 밀도 높게 */
    .sky{position:fixed;inset:0;z-index:0;pointer-events:none;background:#0b1018}
    .star{position:absolute;inset:0;opacity:var(--starVis,0.9)}
    .star.s1{
      background:
        radial-gradient(2px 2px at 12% 18%, #ffffffcc 50%, transparent 52%),
        radial-gradient(1.5px 1.5px at 33% 40%, #ffffffaa 50%, transparent 52%),
        radial-gradient(1.2px 1.2px at 70% 12%, #ffffff88 50%, transparent 52%),
        radial-gradient(1px 1px at 82% 66%, #ffffff77 50%, transparent 52%),
        radial-gradient(1.5px 1.5px at 15% 80%, #ffffff88 50%, transparent 52%);
      animation: tw1 40s linear infinite;
      filter: drop-shadow(0 0 2px #8ecaff);
    }
    .star.s2{
      background:
        radial-gradient(1.2px 1.2px at 50% 24%, #ffffffaa 50%, transparent 52%),
        radial-gradient(1px 1px at 72% 52%, #ffffff88 50%, transparent 52%),
        radial-gradient(1.5px 1.5px at 28% 66%, #ffffff99 50%, transparent 52%),
        radial-gradient(1px 1px at 90% 30%, #ffffff77 50%, transparent 52%);
      animation: tw2 60s linear infinite reverse;
    }
    .star.s3{
      background:
        radial-gradient(1px 1px at 40% 80%, #ffffff77 50%, transparent 52%),
        radial-gradient(1.2px 1.2px at 64% 70%, #ffffff88 50%, transparent 52%),
        radial-gradient(1px 1px at 10% 30%, #ffffff66 50%, transparent 52%);
      animation: tw3 90s linear infinite;
    }
    @keyframes tw1{from{transform:translate(0,0)}to{transform:translate(-10%, -8%)}}
    @keyframes tw2{from{transform:translate(0,0)}to{transform:translate(8%, -6%)}}
    @keyframes tw3{from{transform:translate(0,0)}to{transform:translate(-6%, 6%)}}

    /* 상단 미니 컨트롤러(중앙) */
    .star-ctl{
      position:fixed; left:50%; top:10px; transform:translateX(-50%);
      z-index:10; display:flex; align-items:center; gap:6px;
      padding:6px 10px; border-radius:999px;
      background:rgba(255,255,255,.08); backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,.2);
      font-size:12px; color:#cfe1ff;
    }
    .star-ctl input[type=range]{width:140px; height:6px; background:transparent}
    .star-ctl input[type=range]::-webkit-slider-runnable-track{height:6px;border-radius:999px;background:linear-gradient(90deg,#a78bfa,#22d3ee)}
    .star-ctl input[type=range]::-webkit-slider-thumb{appearance:none;width:14px;height:14px;border-radius:50%;background:#fff;border:1px solid #0002}

    .wrap{position:relative;z-index:1;max-width:1240px;margin:0 auto;padding:64px 16px 80px}
    .brand{position:relative; height:32px; margin-bottom:8px}
    .brand img{height:32px; position:absolute; right:0; top:0} /* 로고 우상단 */

    /* HUB */
    .hub-grid{display:grid;grid-template-columns:minmax(280px,520px) 1fr;gap:18px;align-items:center}
    @media (max-width:900px){.hub-grid{grid-template-columns:1fr}}
    .hub{position:relative;aspect-ratio:1/1;border-radius:50%;
      background:radial-gradient(100% 100% at 35% 30%, #1e2742 0%, #0c1220 60%, #0000 80%);
      box-shadow:inset 0 8px 28px rgba(255,255,255,.06), 0 18px 48px rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.06);
    }
    .hub svg{position:absolute;inset:0}
    /* 중앙 행성(회전), 텍스트 고정 */
    .center-cap{position:absolute;inset:50% auto auto 50%; transform:translate(-50%,-50%);
      width:36%; height:36%; border-radius:50%; display:flex; align-items:center; justify-content:center; flex-direction:column;
      background: radial-gradient(120% 120% at 30% 30%, rgba(46,204,250,.18), rgba(124,58,237,.14) 60%, transparent 80%);
      border:1px solid rgba(255,255,255,.12);
      box-shadow:inset 0 10px 26px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .center-cap::before{
      content:""; position:absolute; inset:-20%;
      background:radial-gradient(60% 60% at 20% 20%, rgba(255,255,255,.25), rgba(255,255,255,0) 70%);
      filter:blur(10px); animation:orb 12s linear infinite;
    }
    @keyframes orb{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    .center-big{position:relative; z-index:1; font-weight:900;font-size:clamp(16px,3.2vw,28px);letter-spacing:.02em;margin:0 0 4px}
    .center-sub{position:relative; z-index:1; font-size:12px;color:var(--muted);margin:0}

    .seg{cursor:pointer;stroke:rgba(255,255,255,.14);stroke-width:1.2;transition:transform .18s ease, opacity .18s ease; fill-opacity:.65;}
    .seg:hover{transform:scale(1.02)}
    .seg.active{transform:scale(1.03)}
    /* 섹터 라벨(2배, 글로우 제거) */
    .seg-label{font-weight:900;font-size:clamp(16px,1.8vw,22px);letter-spacing:.02em;fill:#e8f6ff;}

    /* 패널 */
    .panel{min-height:240px;border-radius:16px;padding:14px;background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10); backdrop-filter:blur(12px)}
    .panel h4{margin:2px 0 10px;font-size:14px;color:#b9c3d6;letter-spacing:.08em}
    .list{display:flex;flex-direction:column;gap:6px}
    .row{display:grid;grid-template-columns:1.6em 1fr auto auto;gap:8px;align-items:center;font-size:13.5px}
    .row .rk{opacity:.7;text-align:right;font-weight:800}
    .row .tk{font-weight:900}
    .row .px{opacity:.9;text-align:right}
    .row .pc{font-weight:900;text-align:right}
    .row .pc.up{color:var(--up)} .row .pc.down{color:var(--down)}

    /* Gauge (F&G) */
    .gauge{width:100%;height:140px}
    .g-arc{stroke-linecap:round;stroke-width:16;fill:none}
    .needle{stroke:#fff;stroke-width:8;stroke-linecap:round}

    /* 검색/테이블 */
    .controls{display:flex;gap:10px;align-items:center;margin:14px 0 8px}
    .controls .search{flex:1}
    input[type=text]{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);color:var(--text);border-radius:10px;padding:9px 12px;outline:none}

    .table-wrap{overflow-x:auto;margin-top:8px}

    /* 고정 “엑셀틀” 헤더 */
    .grid-head{
      position:sticky; top:var(--sticky-top); z-index:6;
      display:grid; grid-template-columns: var(--rank-w) var(--name-w) 120px 120px 120px 120px 120px 120px 120px;
      gap:0; align-items:center; padding:8px 10px;
      background:rgba(17,24,39,.92); backdrop-filter:blur(6px);
      border:1px solid rgba(255,255,255,.08); border-radius:12px;
      color:#b9c3d6; font-weight:700; font-size:12px;
      margin-bottom:8px;
    }

    table{width:1200px;border-collapse:separate;border-spacing:0 10px}
    thead th{font-size:12px; color:#b9c3d6; font-weight:700; padding:8px 10px;}

    /* 칼럼 너비 */
    .c-rank{width:var(--rank-w)} .c-name{width:var(--name-w)}
    .c-price,.c-1h,.c-24h,.c-7d,.c-mcap,.c-vol,.c-spark{width:120px}

    #mkt tbody td{border:1px solid rgba(255,255,255,.08);padding:12px 10px;vertical-align:middle;background:rgba(17,24,39,.85)}
    #mkt tbody tr td:first-child{border-radius:12px 0 0 12px}
    #mkt tbody tr td:last-child{border-radius:0 12px 12px 0}
    #mkt .sticky-rank{position:sticky; left:0; z-index:2}
    #mkt .sticky-name{position:sticky; left:var(--rank-w); z-index:2}

    .mkt-name{ display:flex; align-items:center; gap:10px; }
    .mkt-name img { width:20px; height:20px; border-radius:50%; }
    .mkt-name .sym { font-weight:800; margin-right:6px; }
    .mkt-name .full { opacity:.85; }

    .num { text-align:right; font-variant-numeric: tabular-nums; }
    .pct.up { color:#22c55e; } .pct.down { color:#ef4444; }
    .text-right { text-align:right; }
    td.spark canvas{display:block;width:120px;height:28px}

    /* 모바일: 심볼만 + 가격/24h/스파크 + 순번 보임 */
    @media (max-width:800px){
      :root{ --sticky-top: 132px; --name-w:140px; }
      .hide-m{display:none!important}
      table{width:1000px}
      .mkt-name .full{display:none} /* 풀네임 숨김 */
      .wrap{padding-top:84px}
      .grid-head{ grid-template-columns: var(--rank-w) var(--name-w) 120px 120px 120px; }
      .grid-head .col-1h, .grid-head .col-7d, .grid-head .col-mcap, .grid-head .col-vol { display:none }
    }

    footer{margin:24px 0 0;text-align:center;color:#9aa3b6;opacity:.8;font-size:12px}
  </style>
</head>
<body>
  <!-- ⭐ star background -->
  <div class="sky"><div class="star s1"></div><div class="star s2"></div><div class="star s3"></div></div>

  <!-- ⭐ tiny controller -->
  <div class="star-ctl">
    <span style="opacity:.8">Stars</span>
    <input id="starRange" type="range" min="0" max="100" value="90">
  </div>

  <div class="wrap">
    <div class="brand">
      <img src="/media/logo.png" alt="TWO4" />
    </div>

    <!-- HUB -->
    <section class="hub-grid">
      <div class="hub">
        <svg id="hubSvg" viewBox="0 0 1000 1000" aria-label="Cosmos sectors"></svg>
        <div class="center-cap">
          <div class="center-big" id="cBig">COSMOS</div>
          <div class="center-sub" id="cSub">—</div>
        </div>
      </div>
      <aside class="panel" id="panel">
        <h4 id="pTitle">—</h4>
        <div id="pBody">Select a sector.</div>
      </aside>
    </section>

    <!-- 검색 -->
    <div class="controls">
      <input class="search" id="q" type="text" placeholder="Search coin (name/symbol)">
    </div>

    <!-- 고정 엑셀틀 헤더 -->
    <div id="gridHead" class="grid-head">
      <div>#</div>
      <div>Name</div>
      <div class="text-right">Price</div>
      <div class="text-right col-1h">1h</div>
      <div class="text-right">24h</div>
      <div class="text-right col-7d">7d</div>
      <div class="text-right col-mcap">Market Cap</div>
      <div class="text-right col-vol">24h Volume</div>
      <div class="text-right">7d Spark</div>
    </div>

    <!-- 테이블 -->
    <div class="table-wrap">
      <table id="mkt" class="cosmos-table">
        <colgroup>
          <col class="c-rank"><col class="c-name"><col class="c-price">
          <col class="c-1h"><col class="c-24h"><col class="c-7d">
          <col class="c-mcap"><col class="c-vol"><col class="c-spark">
        </colgroup>
        <thead>
          <tr>
            <th data-key="rank"     class="sticky-rank th th-sort">#</th>
            <th data-key="name"     class="sticky-name th th-sort">Name</th>
            <th data-key="price"    class="text-right th th-sort">Price</th>
            <th data-key="change1h" class="text-right th th-sort hide-m">1h</th>
            <th data-key="change24h"class="text-right th th-sort">24h</th>
            <th data-key="change7d" class="text-right th th-sort hide-m">7d</th>
            <th data-key="market_cap" class="text-right th th-sort hide-m">Market Cap</th>
            <th data-key="volume"     class="text-right th th-sort hide-m">24h Volume</th>
            <th class="text-right">7d Spark</th>
          </tr>
        </thead>
        <tbody id="mktBody"></tbody>
      </table>
    </div>

    <div id="pager" class="controls" style="justify-content:center;gap:6px"></div>

    <footer>Cosmos Dashboard · CoinGecko · Binance · Alternative.me · 30s auto refresh</footer>
  </div>

  <script src="./cosmos.js"></script>
</body>
</html>
