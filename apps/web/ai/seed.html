<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <title>Seed AI</title>
  <style>
    :root{
      --bg1:#0a0a0a;
      --bg2:#1a1a2e;
      --glass:rgba(15,15,25,.6);
      --ink:#e0e0e0;
      --ink-dim:rgba(255,255,255,.75);
      --neon1:#667eea;
      --neon2:#764ba2;
      --good:#60ffa3;
      --bad:#ff6b6b;
      --ring:rgba(102,126,234,.2);
      --input-bg:rgba(10,10,20,.35);
      --bubble-ai:rgba(102,126,234,.10);
      --bubble-user:rgba(255,255,255,.06);
    }

    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      color:var(--ink);
      background:linear-gradient(135deg,var(--bg1) 0%,var(--bg2) 100%);
      overflow:hidden;
    }
    /* floating background */
    body::before{
      content:'';
      position:fixed; inset:-25%;
      background:
        radial-gradient(circle at 20% 50%, rgba(102,126,234,.10) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(118,75,162,.10) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(102,126,234,.05) 0%, transparent 50%);
      animation:bgFloat 22s ease-in-out infinite;
      z-index:-1;
    }
    @keyframes bgFloat{0%,100%{transform:translate(-8%,-8%) rotate(0)}50%{transform:translate(8%,8%) rotate(180deg)}}

    /* frame */
    .chat-wrapper{
      width:min(1200px,100%);
      height:100dvh; /* 모바일 100% 꽉 채움 */
      display:flex; flex-direction:column;
      margin-inline:auto;
      background:var(--glass);
      border:1px solid rgba(255,255,255,.08);
      border-radius:22px;
      backdrop-filter:blur(18px);
      -webkit-backdrop-filter:blur(18px);
      box-shadow:
        0 0 40px rgba(102,126,234,.10),
        inset 0 0 40px rgba(255,255,255,.02),
        0 20px 60px rgba(0,0,0,.55);
      overflow:hidden;
    }
    .chat-wrapper::before{
      content:'';
      position:absolute; inset:-2px; border-radius:22px; padding:2px;
      background:linear-gradient(45deg, rgba(102,126,234,.55), rgba(118,75,162,.55), rgba(102,126,234,.55), rgba(118,75,162,.55));
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite:xor; mask-composite:exclude;
      animation:borderSpin 9s linear infinite;
      pointer-events:none; opacity:.85;
    }
    @keyframes borderSpin{to{transform:rotate(360deg)}}

    /* header */
    .header{
      position:relative;
      padding:16px 20px 12px;
      border-bottom:1px solid var(--ring);
      background:rgba(20,20,35,.55);
      display:flex; align-items:center; justify-content:space-between;
    }
    .title{
      letter-spacing:.5px;
      font-size:20px; font-weight:800;
      background:linear-gradient(135deg,#fff 0%, var(--neon1) 45%, var(--neon2) 100%);
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
    }
    .status{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--ink-dim);text-transform:uppercase}
    .status-dot{width:8px;height:8px;border-radius:50%;background:#00ff88;box-shadow:0 0 10px #00ff88}

    /* chat area */
    .chat-container{
      flex:1; overflow-y:auto; padding:22px 18px 28px; scroll-behavior:smooth;
      background:rgba(10,10,20,.18);
    }
    .chat-container::-webkit-scrollbar{width:6px}
    .chat-container::-webkit-scrollbar-thumb{background:linear-gradient(var(--neon1),var(--neon2));border-radius:4px}

    /* message bubbles (no avatars!) */
    .message{display:flex; margin:14px 6px}
    .message.ai{justify-content:flex-start}
    .message.user{justify-content:flex-end}

    .bubble{
      max-width:min(720px,78%);
      padding:14px 16px;
      line-height:1.6; font-size:15px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.06);
      backdrop-filter:blur(10px);
      box-shadow:0 4px 18px rgba(0,0,0,.28), inset 0 0 16px rgba(255,255,255,.02);
      word-break:break-word; overflow:hidden;
    }
    .message.ai .bubble{
      background:var(--bubble-ai);
      box-shadow:
        0 4px 22px rgba(102,126,234,.25),
        inset 0 0 18px rgba(255,255,255,.02);
      border-color:rgba(102,126,234,.22);
    }
    .message.user .bubble{
      background:var(--bubble-user);
      border-color:rgba(255,255,255,.09);
    }
    .bubble img{max-width:100%;border-radius:12px;display:block}

    /* typing indicator */
    .typing{display:flex;gap:6px;padding:10px 2px;margin-left:4px}
    .dot{width:8px;height:8px;border-radius:50%;
      background:linear-gradient(135deg,var(--neon1),var(--neon2));
      animation:blink 1.3s infinite}
    .dot:nth-child(2){animation-delay:.18s}.dot:nth-child(3){animation-delay:.36s}
    @keyframes blink{0%,60%,100%{opacity:.45;transform:translateY(0)}30%{opacity:1;transform:translateY(-8px)}}

    /* input area */
    .input-container{
      position:sticky; bottom:0; left:0; right:0;
      padding:12px env(safe-area-inset-right) calc(12px + env(safe-area-inset-bottom)) env(safe-area-inset-left);
      background:rgba(20,20,35,.55);
      border-top:1px solid var(--ring);
    }
    .input-wrapper{
      display:flex; align-items:center; gap:10px;
      background:var(--input-bg);
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px; padding:8px 10px 8px 12px;
      box-shadow:0 0 18px rgba(102,126,234,.12) inset;
    }
    .input-field{
      flex:1; background:transparent; border:none; outline:none; color:var(--ink);
      font-size:15px; line-height:1.45; resize:none; max-height:30dvh; padding:6px 2px;
    }
    .input-field::placeholder{color:rgba(255,255,255,.32)}
    .btn{
      width:42px;height:42px;border-radius:12px;border:1px solid rgba(255,255,255,.08);
      display:flex;align-items:center;justify-content:center;cursor:pointer;background:transparent;
      color:rgba(255,255,255,.65); transition:.18s ease; flex:0 0 auto;
    }
    .btn:hover{transform:translateY(-1px); box-shadow:0 0 18px rgba(102,126,234,.25)}
    .btn:active{transform:translateY(0)}
    .btn-send{
      border-color:rgba(102,126,234,.35);
      background:linear-gradient(135deg, rgba(102,126,234,.25), rgba(118,75,162,.25));
    }

    /* mobile tweaks */
    @media (max-width: 768px){
      .header{padding:14px 16px 10px}
      .title{font-size:18px}
      .chat-container{padding:18px 14px 24px}
      .bubble{max-width:86%}
    }
  </style>
  <script src="/ai/seed.js" defer></script>
</head>
<body>
  <div class="chat-wrapper">
    <div class="header">
      <div class="title">SEED AI</div>
      <div class="status"><span class="status-dot"></span> Connected</div>
    </div>

    <div id="chatContainer" class="chat-container">
      <div class="message ai">
        <div class="bubble">
          안녕하세요! <b>Seed AI</b>입니다. 텍스트는 그대로, 이미지는 <code>/image 우주 고양이</code>처럼 요청해 보세요.
        </div>
      </div>
    </div>

    <div class="input-container">
      <div class="input-wrapper">
        <button id="uploadButton" class="btn" type="button" title="이미지 업로드">📎</button>
        <textarea id="messageInput" class="input-field" rows="1" placeholder="메시지를 입력하세요..." autocomplete="off"></textarea>
        <button id="sendButton" class="btn btn-send" type="button" title="전송">▶</button>
        <input id="imageInput" type="file" accept="image/*" style="display:none" />
      </div>
    </div>
  </div>
</body>
</html>
