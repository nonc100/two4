<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TWO.4 – Infinity Clock</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <style>
    /* ===== Reset ===== */
    * { margin:0; padding:0; box-sizing:border-box; }
    html,body { height:100%; }
    body {
      background:#000;
      color:#fff;
      min-height:100vh;
      font-family:'Space Grotesk', system-ui, sans-serif;
      overflow:hidden;
    }

    /* ===== Video background ===== */
    .video-background {
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      min-width:100%;
      min-height:100%;
      object-fit:cover;
      object-position:center center;
      z-index:-10;
      background:#000;
    }
    .video-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.28); /* 살짝 어둡게 */
      z-index:-5;
      pointer-events:none;
    }
    /* 세로 화면에서 프레이밍 보정이 필요하면 아래 값을 살짝 조정해줘 (위쪽 더 보이게 등) */
    @media (orientation:portrait){
      .video-background{ object-position:center 32%; }
    }

    /* ===== Top-left brand logo ===== */
    .brand-logo{
      position:fixed;
      top:12px;
      left:16px;
      z-index:1200;
      display:block;
      pointer-events:auto;
    }
    .brand-logo img{
      display:block;
      height:clamp(28px, 4.2vw, 44px);
      width:auto;
      filter:drop-shadow(0 2px 8px rgba(0,0,0,.35));
      opacity:.95;
    }
    @media (max-width:768px){
      .brand-logo{ top:8px; left:12px; }
    }

    /* ===== Infinity Clock (네가 보낸 코드 원형 유지) ===== */
    .infinity-clock {
      position: absolute;
      top: clamp(4px, 1.5vh, 12px);
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      flex-direction: column;
      gap: clamp(3px, 0.6vh, 6px);
      pointer-events: none;
      z-index: 1200;
    }
    .inf-svg {
      width: clamp(200px, 35vw, 400px);
      height: auto;
    }
    .esc {
      font: 600 clamp(13px, 2.4vw, 17px) 'Space Grotesk', system-ui, sans-serif;
      fill: rgba(255, 255, 255, 0.8);
      letter-spacing: 1.5px;
      opacity: 0.9;
    }
    .inf-base {
      fill: none;
      stroke: rgba(255, 255, 255, 0.1);
      stroke-width: 6;
      stroke-linecap: round;
    }
    .inf-prog {
      fill: none;
      stroke: url(#inf-grad);
      stroke-width: 6;
      stroke-linecap: round;
    }
    .inf-cursor { fill: rgba(255, 255, 255, 0.8); }
    .inf-mark   { fill: rgba(255, 255, 255, 0.3); }

    .inf-digital {
      font-family: 'Space Grotesk', system-ui, sans-serif;
      font-weight: 500;
      font-size: clamp(12px, 1.8vw, 16px);
      color: rgba(255, 255, 255, 0.95);
      letter-spacing: 1px;
      background: rgba(0, 0, 0, 0.15);
      padding: clamp(6px, 1vw, 10px) clamp(10px, 1.8vw, 16px);
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
    }
    .time-quote {
      font-family: 'Space Grotesk', system-ui, sans-serif;
      font-weight: 300;
      font-size: clamp(9px, 1.2vw, 11px);
      color: rgba(255, 255, 255, 0.5);
      text-align: center;
      margin-top: clamp(4px, 0.8vh, 8px);
      line-height: 1.3;
      letter-spacing: 0.2px;
      font-style: italic;
      opacity: 0.7;
    }
    @media (max-width: 768px) {
      .infinity-clock { top: clamp(2px, 1vh, 8px); gap: clamp(2px, 0.4vh, 4px); }
      .inf-svg { width: clamp(280px, 85vw, 400px); }
    }
  </style>
</head>
<body>

  <!-- Background video: portrait/landscape 자동 분기 -->
  <video class="video-background" autoplay muted loop playsinline preload="auto" id="bgVideo">
    <!-- 세로(포트레이트) -->
    <source src="/background-portrait.mp4" type="video/mp4" media="(orientation: portrait)">
    <!-- 가로(랜드스케이프) -->
    <source src="/background.mp4" type="video/mp4" media="(orientation: landscape)">
    <!-- 아주 구형 브라우저 대비 -->
    <source src="/background.mp4" type="video/mp4">
  </video>
  <div class="video-overlay"></div>

  <!-- Left-top logo -->
  <a href="/" class="brand-logo" aria-label="TWO.4 home">
    <img src="/logo1.png" alt="TWO.4">
  </a>

  <!-- Infinity Clock (from your friend) -->
  <div class="infinity-clock">
    <svg class="inf-svg" viewBox="0 0 600 280">
      <defs>
        <linearGradient id="inf-grad" x1="0" y1="0" x2="1" y2="0">
          <stop offset="0"    stop-color="#10b981"/>
          <stop offset="0.25" stop-color="#eab308"/>
          <stop offset="0.5"  stop-color="#f59e0b"/>
          <stop offset="0.75" stop-color="#ef4444"/>
          <stop offset="1"    stop-color="#dc2626"/>
        </linearGradient>
      </defs>

      <!-- ESC 라벨(디자인 그대로: E-SC) -->
      <text x="300" y="32" text-anchor="middle" class="esc">E-SC</text>

      <!-- 무한대 베이스 & 진행선 (경로 동일) -->
      <path id="infBase"
            d="M300 140
               C250 60 110 60 110 140
               S250 220 300 140
               S490 60 490 140
               S350 220 300 140"
            class="inf-base"/>
      <path id="infProg"
            d="M300 140
               C250 60 110 60 110 140
               S250 220 300 140
               S490 60 490 140
               S350 220 300 140"
            class="inf-prog"/>

      <!-- 현재 위치 커서 + 마커 -->
      <circle id="infCursor" r="4" class="inf-cursor"/>
      <circle id="markA" r="3" class="inf-mark"/>
      <circle id="markB" r="3" class="inf-mark"/>
    </svg>

    <div class="inf-digital" id="infDigital">AM 00:00:00</div>
    <div class="time-quote" id="timeQuote">
      Time is what we want most, but what we use worst.
    </div>
  </div>

  <script>
    /* 배경 동영상이 iOS/안드로이드에서 멈춰있으면 첫 터치에 play 재시도 */
    (function ensureVideoPlays(){
      const v = document.getElementById('bgVideo');
      if(!v) return;
      const tryPlay = () => v.play().catch(()=>{});
      document.addEventListener('touchstart', tryPlay, { once:true });
      document.addEventListener('click', tryPlay, { once:true });
    })();

    /* ===== Infinity Clock (원본 로직 그대로) ===== */
    const dailyQuotes = [
      "Time is what we want most, but what we use worst.",
      "Lost time is never found again.",
      "Time flies over us, but leaves its shadow behind.",
      "The two most powerful warriors are patience and time.",
      "Time is a created thing. Say 'I don't have time,' not 'I don't have time.'",
      "Time you enjoy wasting is not wasted time.",
      "Yesterday is gone. Tomorrow has not yet come. We have only today."
    ];

    function initClock() {
      const base = document.getElementById('infBase');
      const prog = document.getElementById('infProg');
      const cursor = document.getElementById('infCursor');
      const digital = document.getElementById('infDigital');
      const timeQuote = document.getElementById('timeQuote');
      const markA = document.getElementById('markA');
      const markB = document.getElementById('markB');

      if (!base || !prog) return;

      const totalLength = base.getTotalLength();
      prog.style.strokeDasharray = `0 ${totalLength}`;

      // 지금 버전은 0~60초를 무한대 경로에 매핑 (네가 준 코드 그대로 유지)
      const secondsToLength = (seconds) => ((seconds % 60) / 60) * totalLength;

      const placeElement = (element, length) => {
        const point = base.getPointAtLength(length);
        element.setAttribute('cx', point.x);
        element.setAttribute('cy', point.y);
      };

      // 마커 두 개(15초, 45초 위치)
      placeElement(markA, secondsToLength(15));
      placeElement(markB, secondsToLength(45));

      function updateClock() {
        const now = new Date();
        const seconds = now.getSeconds();
        const progressLength = secondsToLength(seconds);

        prog.style.strokeDasharray = `${progressLength} ${totalLength - progressLength}`;
        placeElement(cursor, progressLength);

        const hours = now.getHours();
        const minutes = now.getMinutes();
        const displayHours = String(((hours + 11) % 12) + 1).padStart(2, '0');
        const displayMinutes = String(minutes).padStart(2, '0');
        const displaySeconds = String(seconds).padStart(2, '0');
        const ampm = hours < 12 ? 'AM' : 'PM';

        digital.textContent = `${ampm} ${displayHours}:${displayMinutes}:${displaySeconds}`;

        const dayOfWeek = now.getDay();
        const quoteIndex = dayOfWeek === 0 ? 6 : dayOfWeek - 1;
        timeQuote.textContent = dailyQuotes[quoteIndex];
      }

      updateClock();
      setInterval(updateClock, 1000);
    }

    document.addEventListener('DOMContentLoaded', initClock);
  </script>
</body>
</html>
